<f:layout name="Default" />

<f:section name="Title">Admin Area</f:section>

<f:section name="Content">
    <div class="container">
        <f:flashMessages class="flashmessages" />
        <div class="row">
            <h1>Manage appointments</h1>
        </div>
        <div class="clearfix">&nbsp;</div>
        <div class="row">
            <f:if condition="{appointments -> f:count()}">
                <f:then>
                    <table class="table table-striped table-hover">
                        <tr>
                            <td>Name</td>
                            <td>Starting</td>
                            <td>Ending</td>
                            <td>Displayed from</td>
                            <td>Displayed to</td>
                            <td></td>
                        </tr>
                        <f:for each="{appointments}" as="appointment">
                            <tr>
                                <td>{appointment.name}</td>
                                <td><i class="fa fa-calendar-o fa-fw"></i> {appointment.starttime -> f:format.date(format: 'D, d M, Y')}</td>
                                <td><i class="fa fa-calendar-o fa-fw"></i> {appointment.endtime -> f:format.date(format: 'D, d M, Y')}</td>
                                <td><i class="fa fa-calendar-o fa-fw"></i> {appointment.displayStarttime -> f:format.date(format: 'D, d M, Y')}</td>
                                <td><i class="fa fa-calendar-o fa-fw"></i> {appointment.displayEndtime -> f:format.date(format: 'D, d M, Y')}</td>
                                <td>
                                    <f:link.action action="edit" controller="Appointment" arguments="{appointment: appointment}" title="edit"><i class="fa fa-pencil fa-fw text-default"></i></f:link.action>
                                    <f:link.action action="delete" controller="Appointment" arguments="{appointment: appointment}" title="delete"><i class="fa fa-trash text-danger"></i></f:link.action>
                                </td>
                            </tr>
                        </f:for>
                    </table>
                </f:then>
                <f:else>
                    No appointments created yet.
                </f:else>
            </f:if>
        </div>
        <div class="clearfix">&nbsp;</div>
        <div class="row">
            <p><f:link.action action="new" controller="Appointment" class="btn btn-primary"><i class="fa fa-calendar-plus-o fa-fw"></i> New Appointment</f:link.action></p>
        </div>
    </div>
</f:section>